0 info it worked if it ends with ok
1 verbose cli [ 'node', '/Users/OberonV/npm/bin/npm', 'publish' ]
2 info using npm@1.4.9
3 info using node@v0.10.24
4 verbose node symlink /usr/local/bin/node
5 verbose publish [ '.' ]
6 verbose cache add [ '.', null ]
7 verbose cache add name=undefined spec="." args=[".",null]
8 verbose parsed url { protocol: null,
8 verbose parsed url   slashes: null,
8 verbose parsed url   auth: null,
8 verbose parsed url   host: null,
8 verbose parsed url   port: null,
8 verbose parsed url   hostname: null,
8 verbose parsed url   hash: null,
8 verbose parsed url   search: null,
8 verbose parsed url   query: null,
8 verbose parsed url   pathname: '.',
8 verbose parsed url   path: '.',
8 verbose parsed url   href: '.' }
9 silly lockFile 3a52ce78- .
10 verbose lock . /Users/OberonV/.npm/3a52ce78-.lock
11 verbose tar pack [ '/var/folders/hb/6p7w23pj1_12lp8m4t7hz8_r0000gn/T/npm-13274-4xEkxpLP/1405351665311-0.16219287808053195/tmp.tgz',
11 verbose tar pack   '.' ]
12 verbose tarball /var/folders/hb/6p7w23pj1_12lp8m4t7hz8_r0000gn/T/npm-13274-4xEkxpLP/1405351665311-0.16219287808053195/tmp.tgz
13 verbose folder .
14 info prepublish apostrophe-people@0.5.26
15 silly lockFile 1f1177db-tar tar://.
16 verbose lock tar://. /Users/OberonV/.npm/1f1177db-tar.lock
17 silly lockFile a86a36ba-5311-0-16219287808053195-tmp-tgz tar:///var/folders/hb/6p7w23pj1_12lp8m4t7hz8_r0000gn/T/npm-13274-4xEkxpLP/1405351665311-0.16219287808053195/tmp.tgz
18 verbose lock tar:///var/folders/hb/6p7w23pj1_12lp8m4t7hz8_r0000gn/T/npm-13274-4xEkxpLP/1405351665311-0.16219287808053195/tmp.tgz /Users/OberonV/.npm/a86a36ba-5311-0-16219287808053195-tmp-tgz.lock
19 silly lockFile 1f1177db-tar tar://.
20 silly lockFile 1f1177db-tar tar://.
21 silly lockFile a86a36ba-5311-0-16219287808053195-tmp-tgz tar:///var/folders/hb/6p7w23pj1_12lp8m4t7hz8_r0000gn/T/npm-13274-4xEkxpLP/1405351665311-0.16219287808053195/tmp.tgz
22 silly lockFile a86a36ba-5311-0-16219287808053195-tmp-tgz tar:///var/folders/hb/6p7w23pj1_12lp8m4t7hz8_r0000gn/T/npm-13274-4xEkxpLP/1405351665311-0.16219287808053195/tmp.tgz
23 verbose tar unpack /var/folders/hb/6p7w23pj1_12lp8m4t7hz8_r0000gn/T/npm-13274-4xEkxpLP/1405351665311-0.16219287808053195/tmp.tgz
24 silly lockFile bc6718e7-apostrophe-people-0-5-26-package tar:///Users/OberonV/.npm/apostrophe-people/0.5.26/package
25 verbose lock tar:///Users/OberonV/.npm/apostrophe-people/0.5.26/package /Users/OberonV/.npm/bc6718e7-apostrophe-people-0-5-26-package.lock
26 silly lockFile a86a36ba-5311-0-16219287808053195-tmp-tgz tar:///var/folders/hb/6p7w23pj1_12lp8m4t7hz8_r0000gn/T/npm-13274-4xEkxpLP/1405351665311-0.16219287808053195/tmp.tgz
27 verbose lock tar:///var/folders/hb/6p7w23pj1_12lp8m4t7hz8_r0000gn/T/npm-13274-4xEkxpLP/1405351665311-0.16219287808053195/tmp.tgz /Users/OberonV/.npm/a86a36ba-5311-0-16219287808053195-tmp-tgz.lock
28 silly gunzTarPerm modes [ '755', '644' ]
29 silly gunzTarPerm extractEntry package.json
30 silly gunzTarPerm extractEntry .npmignore
31 silly gunzTarPerm extractEntry README.md
32 silly gunzTarPerm extractEntry LICENSE
33 silly gunzTarPerm extractEntry index.js
34 silly gunzTarPerm extractEntry public/js/apply.js
35 silly gunzTarPerm extractEntry public/js/content.js
36 silly gunzTarPerm extractEntry public/js/editor.js
37 silly gunzTarPerm extractEntry test/test.js
38 silly gunzTarPerm extractEntry views/reset.html
39 silly gunzTarPerm extractEntry views/aposPersonProfile.html
40 silly gunzTarPerm extractEntry views/applyEmail.html
41 silly gunzTarPerm extractEntry views/applyEmail.txt
42 silly gunzTarPerm extractEntry views/confirmed.html
43 silly gunzTarPerm extractEntry views/edit.html
44 silly gunzTarPerm extractEntry views/loginOrApply.html
45 silly gunzTarPerm extractEntry views/profileEditor.html
46 silly gunzTarPerm extractEntry views/apply.html
47 silly gunzTarPerm extractEntry views/resetDone.html
48 silly gunzTarPerm extractEntry views/resetFail.html
49 silly gunzTarPerm extractEntry views/resetRequest.html
50 silly gunzTarPerm extractEntry views/resetRequestEmail.html
51 silly gunzTarPerm extractEntry views/resetRequestEmail.txt
52 silly gunzTarPerm extractEntry views/resetRequestSent.html
53 silly gunzTarPerm extractEntry views/unconfirmed.html
54 silly gunzTarPerm extractEntry views/widgetEditor.html
55 silly lockFile bc6718e7-apostrophe-people-0-5-26-package tar:///Users/OberonV/.npm/apostrophe-people/0.5.26/package
56 silly lockFile bc6718e7-apostrophe-people-0-5-26-package tar:///Users/OberonV/.npm/apostrophe-people/0.5.26/package
57 silly lockFile a86a36ba-5311-0-16219287808053195-tmp-tgz tar:///var/folders/hb/6p7w23pj1_12lp8m4t7hz8_r0000gn/T/npm-13274-4xEkxpLP/1405351665311-0.16219287808053195/tmp.tgz
58 silly lockFile a86a36ba-5311-0-16219287808053195-tmp-tgz tar:///var/folders/hb/6p7w23pj1_12lp8m4t7hz8_r0000gn/T/npm-13274-4xEkxpLP/1405351665311-0.16219287808053195/tmp.tgz
59 silly lockFile 3a52ce78- .
60 silly lockFile 3a52ce78- .
61 silly publish { name: 'apostrophe-people',
61 silly publish   version: '0.5.26',
61 silly publish   description: 'Staff directories, user accounts and personal profiles for the Apostrophe content management system',
61 silly publish   main: 'index.js',
61 silly publish   scripts: { test: './node_modules/mocha/bin/mocha --reporter spec ./test' },
61 silly publish   repository:
61 silly publish    { type: 'git',
61 silly publish      url: 'git@github.com:punkave/apostrophe-people.git' },
61 silly publish   keywords:
61 silly publish    [ 'blog',
61 silly publish      'apostrophe',
61 silly publish      'cms',
61 silly publish      'people',
61 silly publish      'users',
61 silly publish      'login',
61 silly publish      'punkave' ],
61 silly publish   author: { name: 'P\'unk Avenue LLC' },
61 silly publish   license: 'MIT',
61 silly publish   dependencies:
61 silly publish    { async: '0.8.x',
61 silly publish      lodash: '2.4.x',
61 silly publish      extend: '~1.1.x',
61 silly publish      moment: '~2.0.x',
61 silly publish      'password-hash': '~1.2.1',
61 silly publish      'apostrophe-snippets': '~0.5.x',
61 silly publish      'xkcd-pwgen': '0.0.1',
61 silly publish      nodemailer: '~0.5.6' },
61 silly publish   devDependencies:
61 silly publish    { apostrophe: '*',
61 silly publish      mocha: '*',
61 silly publish      'apostrophe-pages': '*',
61 silly publish      mongodb: '*',
61 silly publish      express: '*',
61 silly publish      request: '*' },
61 silly publish   readme: '# apostrophe-people\n\n`apostrophe-people`, together with `apostrophe-groups`, adds staff directories, user accounts and user profiles to the [Apostrophe](http://github.com/punkave/apostrophe) content management system.\n\nA "person" is anyone who can either log in, be seen in a personnel directory, or both. "Users" are simply people who have the "login" box checked and a username and password configured. This follows the MongoDB philosophy of avoiding gratuitous joins between users, profiles, etc.\n\nPeople can be centrally managed via the "People" dropdown, and groups of people created via the "Groups" dropdown.\n\nIn addition, one can create a "directory page" to display a directory of people. For now people are displayed on such pages based on shared tags, however we plan to also give each user an affinity for a specific "home" page allowing for easier management of users.\n\nSee the a2 sandbox for a functional example.\n\n## You Also Need Groups\n\nYou\'ll want to install both the people module and the [groups module](http://github.com/punkave/apostrophe-groups) to use this functionality successfully. Again, see the [a2 sandbox](http://github.com/punkave/apostrophe-sandbox) for a working example.\n\n## The Directory Page\n\nThe directory page presents a directory of groups, which commonly represent departments within an organization. Only groups which are published are shown here.\n\nWhen a site visitor clicks on a group, they are then shown a list of people in that group. Only people who have the "published" selector set to "Yes" are shown here.\n\nTODO: provide an option to skip straight to a list of people throughout the organization, and make it easy for that to be the default behavior, as on many sites a public list of groups is overkill or secondary to the main alphabetical list of staff members.\n\n## Subclassing and Overriding the Directory Page\n\nThe directory page is implemented by the `apostrophe-groups` module. You\'ll want to subclass that module, overriding the `index.html` template and perhaps extending or overriding the `show` and `isShow` methods, or overriding the `dispatch` method entirely, as your needs dictate. Currently the people module is able to use the dispatch method of the snippets module without modification for the main list of gropus. This will likely change soon when we introduce ways to skip directly to a list of all people in the organization.\n\nThis is similar to the way the `apostrophe-events` module subclasses and overrides portions of the `apostrophe-snippets` module.\n\n## About Permissions\n\nPeople receive basic permissions such as "guest," "edit" and "admin" via groups that have been given those permissions.\n\n### Permission to View Content\n\nPeople who are members of groups for which the "Admin" box has been checked can always view everything, whether it is published or not.\n\nPeople who are members of groups for which the "Guest" or "Editor" box hs been checked has been checked can potentially view additional content:\n\n* Guests and editors can view any page for which "Login Required" has been chosen from the "who can view this?" section of "Page Settings."\n\n* Guests and editors are candidates to view pages for which "Certain People" has been chosen from the "who can view this?" section of "Page Settings." An admin must grant them that permission as an individual or as a group after selecting "Certain People."\n\n* In addition, editors can always view content they have permission to edit, as described below.\n\n### Permission to Edit Content\n\nSimilarly, people who are members of groups for which the "Editor" box is checked become candidates to edit pages. Someone with admin permissions can then click "Who can edit this?" under "Page Settings" and enter that person or group\'s name to add them to the list of editors for that particular page.\n\nThose with editing permissions can also create and edit their own blog posts, events and so forth (but not people or groups). They cannot edit blog posts and events created by others (TODO: allow permissions to be granted for this in the same way edit permissions for pages are granted).\n\n### Admin Permissions\n\nOnly people who are members of groups for which the "Admin" box is checked, and any hard-coded admin users in `app.js`, are permitted to carry out admin actions such as:\n\n* Adding people\n* Adding groups\n* Changing and edit and view permissions.\n\n### Sorting People Manually Within A Group\n\nMany organizations have their own way of ranking people within groups or departments that must be maintained. By default, the members of a group are displayed alphabetically. However, you can switch to manual ordering by passing a simple option when initializing the groups module. Here\'s an example from `app.js`:\n\n    function initAposGroups(callback) {\n      groups = require(\'apostrophe-groups\')({\n        ... other options ...\n        peopleSortable: true\n      }, ... etc ...);\n    }\n\nOnce you enable this option, you will be able to drag and drop people to reorder them in the list of persons that are members of each group.\n\n### Password Reset\n\nUsers may reset their password via email confirmation, as long as they have a valid email address and a link to "/apos-people/reset-request" is present in the `login.html` template, which is true in current versions of the sandbox.\n\nHowever for those emails to be delivered you will need to set a valid "from" address when configuring the people module. Its options must include:\n\n```javascript\n    {\n      email: {\n        from: "Some Person <someone@somewhere.com>"\n      }\n    }\n```\n\nThere is a default "from" address but sendmail will complain that it is not valid and users will see an error. So make sure you configure that.\n\n### Profiles\n\nAll users who belong to a group with at least "guest" access may edit their profile as long as you include the relevant markup in `outerLayout.html` (see the sandbox for an example).\n\nYou may choose the fields that are editable by the end user via the `profileFields` option. The first name, last name, and title fields are independent of the schema, but if you do not present them in the form they will not be overwritten when the profile is saved. You can customize the form by copying `profileEditor.html` from the people module to `lib/modules/apostrophe-people/profileEditor.html`.\n\n### Applying For Accounts\n\nPeople may apply for accounts with login privileges if you set the `apply` option to `true` when configuring the `apostrophe-people` module.\n\nThe `applyFields` option determines the fields that people are invited to fill out when they apply for an account. The following list is the default, and you should specify at least these fields. You may specify additional fields that exist in your schema (see `addFields`).\n\n```javascript\n[ \'username\', \'password\', \'firstName\', \'lastName\', \'title\', \'email\' ]\n```\n\nThe above fields are required and the user will not be permitted to complete the application form without supplying them.\n\nThe `apply.html` template is used to present the application form.\n\n#### Triggering the Application Form\n\nYou can trigger the application form by giving any link a\n`data-people-apply` attribute. You can place those wherever it makes\nsense in your application:\n\n    <a href="#" data-people-apply>Sign Up For An Account</a>\n\nBy default the user is required to confirm their account by clicking\non a link in an email generated when they complete the form.\n\n### Account Confirmation\n\nConfirmation emails are generated via the `applyEmail.html` and `applyEmail.txt` templates. The subject lines can be overridden via the `applySubject` option.\n\nIf you don\'t mind a higher rate of spam accounts, you may opt out of\nemail confirmation with:\n\n    applyConfirm: false\n\n### Permissions for New Accounts\n\nWhen users create accounts, by default they are added to a group\ncalled "Guests" with the single permission "guest". This account is\ncreated if it does not yet exist. If it does already exist, its\npermissions are left as-is.\n\nYou may change the group name:\n\n    applyGroup: guitarists\n\nOr the group\'s permissions:\n\n    applyGroupPermissions: [ \'guest\', \'submit-event\', \'submit-blog-post\' ]\n\n### Fine-Grained Permissions For Events, Blog Posts and Other Types\n\nFine-grained permissions are now available on a per-group basis for\nevents, blog posts and so on; in fact, any new snippet instance type\nyou define will automatically have three permissions available to be\nassigned to groups:\n\n`submit-blog-post`: can submit a blog post but cannot mark it published\n`edit-blog-post`: can submit blog posts and publish them, but not edit\nother people\'s\n`admin-blog-post`: can edit, publish and remove any blog post\n\nThis is very helpful to cut down on confusion that stems from giving\ntoo many people the admin permission.\n\nThe "edit" permission implies all "edit-*" permissions, and the\n"admin" permission implies all "admin-*" permissions.\n\n### Requiring Users To Log In *Or* Sign In\n\nYou can also set up links that give the user a choice between creating\nan account and logging into an existing account. And you can set a URL\nto be accessed when the user has finished logging in, one way or the\nother, via the data-after-login attribute:\n\n    <a href="#" data-people-login-or-apply data-after-login="/">Log in\nfirst, then go home</a>\n\n### Triggering Button Clicks After The User Logs In\n\nOf course, sometimes what you really want is to force the user to log\nin or sign up, then trigger something that would normally be accessed\nby just clicking a button on a particular page.\n\nSo we\'ve added a way to trigger a click event on an element in a page\nafter loading it. (This is actually a core Apostrophe module feature but it has special relevance here.)\n\nJust end any URL with this:\n\n    #click-my-button\n\nAnd Apostrophe will look for an element with a `data-my-button`\nattribute and trigger a click event on it after loading the relevant page with an extra URL component to prevent caching.\n\n*my-button is just an example. Use your own attribute name.*\n\nApostrophe will also scroll to ensure that element is visible.\n\nThis feature works well with the "data-after-login" attribute shown above.\n\n### Using Account Signups With apostrophe-moderator\n\nYou may want to mix this feature with the [apostrophe-moderator](http://github.com/punkave/apostrophe-moderator) module, which allows for easy management of user-submitted content. If so, make sure you add the appropriate permissions for the types that will support moderation, like this:\n\n    applyGroupPermissions: [ \'guest\', \'submit-event\', \'submit-blog-post\' ]\n\nNote the use of hyphenated names.\n\nNow users who create accounts via the online application process will be able to immediately begin submitting and editing their own content, but will *not* be able to mark it as "published," and if you use the moderator module there will be an easy way for admins to filter and view the submitted content.\n\n### Extra Fields: How Job Titles Work\n\nYou\'ll notice that, by default, you\'re prompted for a job title for each person you add to the group. This information is accessible in templates this way:\n\n```javascript\nperson.groupExtras[groupId].jobTitle\n```\n\nIf you don\'t want this feature, you can disable it with the `peopleExtras` option when configuring the `apostrophe-groups` module:\n\n```javascript\npeopleExtras: false\n```\n\nYou can also specify an array of extra fields, replacing the usual job title field. The syntax is a subset of that supported by Apostrophe schemas. We recommend sticking to simple `string` and `select` field types here.\n\n**The relationship between people and groups is currently not an A2 join in the usual sense.** We\'re not crazy about that, and we may migrate to using standard A2 joins and relationships in the future.\n',
61 silly publish   readmeFilename: 'README.md',
61 silly publish   bugs: { url: 'https://github.com/punkave/apostrophe-people/issues' },
61 silly publish   homepage: 'https://github.com/punkave/apostrophe-people',
61 silly publish   _id: 'apostrophe-people@0.5.26',
61 silly publish   _shasum: 'f83001e83676566a0dfa8b68f1e2a954e223f2d8',
61 silly publish   _from: '.' }
62 verbose url raw apostrophe-people
63 verbose url resolving [ 'https://registry.npmjs.org/', './apostrophe-people' ]
64 verbose url resolved https://registry.npmjs.org/apostrophe-people
65 info trying registry request attempt 1 at 11:27:45
66 http PUT https://registry.npmjs.org/apostrophe-people
67 http 403 https://registry.npmjs.org/apostrophe-people
68 verbose headers { date: 'Mon, 14 Jul 2014 15:27:46 GMT',
68 verbose headers   server: 'CouchDB/1.5.0 (Erlang OTP/R14B04)',
68 verbose headers   'content-type': 'application/json',
68 verbose headers   'cache-control': 'max-age=30',
68 verbose headers   'content-length': '16887',
68 verbose headers   'accept-ranges': 'bytes',
68 verbose headers   via: '1.1 varnish',
68 verbose headers   'x-served-by': 'cache-iad2132-IAD',
68 verbose headers   'x-cache': 'MISS',
68 verbose headers   'x-cache-hits': '0',
68 verbose headers   'x-timer': 'S1405351665.633444,VS0,VE382',
68 verbose headers   'keep-alive': 'timeout=10, max=50',
68 verbose headers   connection: 'Keep-Alive' }
69 error publish Failed PUT 403
70 error Error: forbidden cannot modify pre-existing version: 0.5.26
70 error old={"name":"apostrophe-people","version":"0.5.26","description":"Staff directories, user accounts and personal profiles for the Apostrophe content management system","main":"index.js","scripts":{"test":"./node_modules/mocha/bin/mocha --reporter spec ./test"},"repository":{"type":"git","url":"git@github.com:punkave/apostrophe-people.git"},"keywords":["blog","apostrophe","cms","people","users","login","punkave"],"author":{"name":"P'unk Avenue LLC"},"license":"MIT","dependencies":{"async":"0.8.x","lodash":"2.4.x","extend":"~1.1.x","moment":"~2.0.x","password-hash":"~1.2.1","apostrophe-snippets":"~0.5.x","xkcd-pwgen":"0.0.1","nodemailer":"~0.5.6"},"devDependencies":{"apostrophe":"*","mocha":"*","apostrophe-pages":"*","mongodb":"*","express":"*","request":"*"},"bugs":{"url":"https://github.com/punkave/apostrophe-people/issues"},"homepage":"https://github.com/punkave/apostrophe-people","_id":"apostrophe-people@0.5.26","_shasum":"439f455136bdec0611f3339a2bf7b099dac57c1a","_from":".","_npmVersion":"1.4.9","_npmUser":{"name":"boutell","email":"boutell@boutell.com"},"maintainers":[{"name":"boutell","email":"boutell@boutell.com"},{"name":"kylestetz","email":"kyle@punkave.com"},{"name":"colpanik","email":"kerry@punkave.com"},{"name":"jsumnersmith","email":"joel@punkave.com"},{"name":"alexgilbert","email":"alex@punkave.com"},{"name":"stuartromanek","email":"stuart@punkave.com"},{"name":"benirose","email":"ben@punkave.com"},{"name":"livhaas","email":"olivia@punkave.com"},{"name":"gsf","email":"g@grrawr.com"},{"name":"mcoppola","email":"coppola@punkave.com"}],"dist":{"shasum":"439f455136bdec0611f3339a2bf7b099dac57c1a","tarball":"http://registry.npmjs.org/apostrophe-people/-/apostrophe-people-0.5.26.tgz"}}
70 error new={"name":"apostrophe-people","version":"0.5.26","description":"Staff directories, user accounts and personal profiles for the Apostrophe content management system","main":"index.js","scripts":{"test":"./node_modules/mocha/bin/mocha --reporter spec ./test"},"repository":{"type":"git","url":"git@github.com:punkave/apostrophe-people.git"},"keywords":["blog","apostrophe","cms","people","users","login","punkave"],"author":{"name":"P'unk Avenue LLC"},"license":"MIT","dependencies":{"async":"0.8.x","lodash":"2.4.x","extend":"~1.1.x","moment":"~2.0.x","password-hash":"~1.2.1","apostrophe-snippets":"~0.5.x","xkcd-pwgen":"0.0.1","nodemailer":"~0.5.6"},"devDependencies":{"apostrophe":"*","mocha":"*","apostrophe-pages":"*","mongodb":"*","express":"*","request":"*"},"readme":"# apostrophe-people\u000a\u000a`apostrophe-people`, together with `apostrophe-groups`, adds staff directories, user accounts and user profiles to the [Apostrophe](http://github.com/punkave/apostrophe) content management system.\u000a\u000aA \"person\" is anyone who can either log in, be seen in a personnel directory, or both. \"Users\" are simply people who have the \"login\" box checked and a username and password configured. This follows the MongoDB philosophy of avoiding gratuitous joins between users, profiles, etc.\u000a\u000aPeople can be centrally managed via the \"People\" dropdown, and groups of people created via the \"Groups\" dropdown.\u000a\u000aIn addition, one can create a \"directory page\" to display a directory of people. For now people are displayed on such pages based on shared tags, however we plan to also give each user an affinity for a specific \"home\" page allowing for easier management of users.\u000a\u000aSee the a2 sandbox for a functional example.\u000a\u000a## You Also Need Groups\u000a\u000aYou'll want to install both the people module and the [groups module](http://github.com/punkave/apostrophe-groups) to use this functionality successfully. Again, see the [a2 sandbox](http://github.com/punkave/apostrophe-sandbox) for a working example.\u000a\u000a## The Directory Page\u000a\u000aThe directory page presents a directory of groups, which commonly represent departments within an organization. Only groups which are published are shown here.\u000a\u000aWhen a site visitor clicks on a group, they are then shown a list of people in that group. Only people who have the \"published\" selector set to \"Yes\" are shown here.\u000a\u000aTODO: provide an option to skip straight to a list of people throughout the organization, and make it easy for that to be the default behavior, as on many sites a public list of groups is overkill or secondary to the main alphabetical list of staff members.\u000a\u000a## Subclassing and Overriding the Directory Page\u000a\u000aThe directory page is implemented by the `apostrophe-groups` module. You'll want to subclass that module, overriding the `index.html` template and perhaps extending or overriding the `show` and `isShow` methods, or overriding the `dispatch` method entirely, as your needs dictate. Currently the people module is able to use the dispatch method of the snippets module without modification for the main list of gropus. This will likely change soon when we introduce ways to skip directly to a list of all people in the organization.\u000a\u000aThis is similar to the way the `apostrophe-events` module subclasses and overrides portions of the `apostrophe-snippets` module.\u000a\u000a## About Permissions\u000a\u000aPeople receive basic permissions such as \"guest,\" \"edit\" and \"admin\" via groups that have been given those permissions.\u000a\u000a### Permission to View Content\u000a\u000aPeople who are members of groups for which the \"Admin\" box has been checked can always view everything, whether it is published or not.\u000a\u000aPeople who are members of groups for which the \"Guest\" or \"Editor\" box hs been checked has been checked can potentially view additional content:\u000a\u000a* Guests and editors can view any page for which \"Login Required\" has been chosen from the \"who can view this?\" section of \"Page Settings.\"\u000a\u000a* Guests and editors are candidates to view pages for which \"Certain People\" has been chosen from the \"who can view this?\" section of \"Page Settings.\" An admin must grant them that permission as an individual or as a group after selecting \"Certain People.\"\u000a\u000a* In addition, editors can always view content they have permission to edit, as described below.\u000a\u000a### Permission to Edit Content\u000a\u000aSimilarly, people who are members of groups for which the \"Editor\" box is checked become candidates to edit pages. Someone with admin permissions can then click \"Who can edit this?\" under \"Page Settings\" and enter that person or group's name to add them to the list of editors for that particular page.\u000a\u000aThose with editing permissions can also create and edit their own blog posts, events and so forth (but not people or groups). They cannot edit blog posts and events created by others (TODO: allow permissions to be granted for this in the same way edit permissions for pages are granted).\u000a\u000a### Admin Permissions\u000a\u000aOnly people who are members of groups for which the \"Admin\" box is checked, and any hard-coded admin users in `app.js`, are permitted to carry out admin actions such as:\u000a\u000a* Adding people\u000a* Adding groups\u000a* Changing and edit and view permissions.\u000a\u000a### Sorting People Manually Within A Group\u000a\u000aMany organizations have their own way of ranking people within groups or departments that must be maintained. By default, the members of a group are displayed alphabetically. However, you can switch to manual ordering by passing a simple option when initializing the groups module. Here's an example from `app.js`:\u000a\u000a    function initAposGroups(callback) {\u000a      groups = require('apostrophe-groups')({\u000a        ... other options ...\u000a        peopleSortable: true\u000a      }, ... etc ...);\u000a    }\u000a\u000aOnce you enable this option, you will be able to drag and drop people to reorder them in the list of persons that are members of each group.\u000a\u000a### Password Reset\u000a\u000aUsers may reset their password via email confirmation, as long as they have a valid email address and a link to \"/apos-people/reset-request\" is present in the `login.html` template, which is true in current versions of the sandbox.\u000a\u000aHowever for those emails to be delivered you will need to set a valid \"from\" address when configuring the people module. Its options must include:\u000a\u000a```javascript\u000a    {\u000a      email: {\u000a        from: \"Some Person <someone@somewhere.com>\"\u000a      }\u000a    }\u000a```\u000a\u000aThere is a default \"from\" address but sendmail will complain that it is not valid and users will see an error. So make sure you configure that.\u000a\u000a### Profiles\u000a\u000aAll users who belong to a group with at least \"guest\" access may edit their profile as long as you include the relevant markup in `outerLayout.html` (see the sandbox for an example).\u000a\u000aYou may choose the fields that are editable by the end user via the `profileFields` option. The first name, last name, and title fields are independent of the schema, but if you do not present them in the form they will not be overwritten when the profile is saved. You can customize the form by copying `profileEditor.html` from the people module to `lib/modules/apostrophe-people/profileEditor.html`.\u000a\u000a### Applying For Accounts\u000a\u000aPeople may apply for accounts with login privileges if you set the `apply` option to `true` when configuring the `apostrophe-people` module.\u000a\u000aThe `applyFields` option determines the fields that people are invited to fill out when they apply for an account. The following list is the default, and you should specify at least these fields. You may specify additional fields that exist in your schema (see `addFields`).\u000a\u000a```javascript\u000a[ 'username', 'password', 'firstName', 'lastName', 'title', 'email' ]\u000a```\u000a\u000aThe above fields are required and the user will not be permitted to complete the application form without supplying them.\u000a\u000aThe `apply.html` template is used to present the application form.\u000a\u000a#### Triggering the Application Form\u000a\u000aYou can trigger the application form by giving any link a\u000a`data-people-apply` attribute. You can place those wherever it makes\u000asense in your application:\u000a\u000a    <a href=\"#\" data-people-apply>Sign Up For An Account</a>\u000a\u000aBy default the user is required to confirm their account by clicking\u000aon a link in an email generated when they complete the form.\u000a\u000a### Account Confirmation\u000a\u000aConfirmation emails are generated via the `applyEmail.html` and `applyEmail.txt` templates. The subject lines can be overridden via the `applySubject` option.\u000a\u000aIf you don't mind a higher rate of spam accounts, you may opt out of\u000aemail confirmation with:\u000a\u000a    applyConfirm: false\u000a\u000a### Permissions for New Accounts\u000a\u000aWhen users create accounts, by default they are added to a group\u000acalled \"Guests\" with the single permission \"guest\". This account is\u000acreated if it does not yet exist. If it does already exist, its\u000apermissions are left as-is.\u000a\u000aYou may change the group name:\u000a\u000a    applyGroup: guitarists\u000a\u000aOr the group's permissions:\u000a\u000a    applyGroupPermissions: [ 'guest', 'submit-event', 'submit-blog-post' ]\u000a\u000a### Fine-Grained Permissions For Events, Blog Posts and Other Types\u000a\u000aFine-grained permissions are now available on a per-group basis for\u000aevents, blog posts and so on; in fact, any new snippet instance type\u000ayou define will automatically have three permissions available to be\u000aassigned to groups:\u000a\u000a`submit-blog-post`: can submit a blog post but cannot mark it published\u000a`edit-blog-post`: can submit blog posts and publish them, but not edit\u000aother people's\u000a`admin-blog-post`: can edit, publish and remove any blog post\u000a\u000aThis is very helpful to cut down on confusion that stems from giving\u000atoo many people the admin permission.\u000a\u000aThe \"edit\" permission implies all \"edit-*\" permissions, and the\u000a\"admin\" permission implies all \"admin-*\" permissions.\u000a\u000a### Requiring Users To Log In *Or* Sign In\u000a\u000aYou can also set up links that give the user a choice between creating\u000aan account and logging into an existing account. And you can set a URL\u000ato be accessed when the user has finished logging in, one way or the\u000aother, via the data-after-login attribute:\u000a\u000a    <a href=\"#\" data-people-login-or-apply data-after-login=\"/\">Log in\u000afirst, then go home</a>\u000a\u000a### Triggering Button Clicks After The User Logs In\u000a\u000aOf course, sometimes what you really want is to force the user to log\u000ain or sign up, then trigger something that would normally be accessed\u000aby just clicking a button on a particular page.\u000a\u000aSo we've added a way to trigger a click event on an element in a page\u000aafter loading it. (This is actually a core Apostrophe module feature but it has special relevance here.)\u000a\u000aJust end any URL with this:\u000a\u000a    #click-my-button\u000a\u000aAnd Apostrophe will look for an element with a `data-my-button`\u000aattribute and trigger a click event on it after loading the relevant page with an extra URL component to prevent caching.\u000a\u000a*my-button is just an example. Use your own attribute name.*\u000a\u000aApostrophe will also scroll to ensure that element is visible.\u000a\u000aThis feature works well with the \"data-after-login\" attribute shown above.\u000a\u000a### Using Account Signups With apostrophe-moderator\u000a\u000aYou may want to mix this feature with the [apostrophe-moderator](http://github.com/punkave/apostrophe-moderator) module, which allows for easy management of user-submitted content. If so, make sure you add the appropriate permissions for the types that will support moderation, like this:\u000a\u000a    applyGroupPermissions: [ 'guest', 'submit-event', 'submit-blog-post' ]\u000a\u000aNote the use of hyphenated names.\u000a\u000aNow users who create accounts via the online application process will be able to immediately begin submitting and editing their own content, but will *not* be able to mark it as \"published,\" and if you use the moderator module there will be an easy way for admins to filter and view the submitted content.\u000a\u000a### Extra Fields: How Job Titles Work\u000a\u000aYou'll notice that, by default, you're prompted for a job title for each person you add to the group. This information is accessible in templates this way:\u000a\u000a```javascript\u000aperson.groupExtras[groupId].jobTitle\u000a```\u000a\u000aIf you don't want this feature, you can disable it with the `peopleExtras` option when configuring the `apostrophe-groups` module:\u000a\u000a```javascript\u000apeopleExtras: false\u000a```\u000a\u000aYou can also specify an array of extra fields, replacing the usual job title field. The syntax is a subset of that supported by Apostrophe schemas. We recommend sticking to simple `string` and `select` field types here.\u000a\u000a**The relationship between people and groups is currently not an A2 join in the usual sense.** We're not crazy about that, and we may migrate to using standard A2 joins and relationships in the future.\u000a","readmeFilename":"README.md","bugs":{"url":"https://github.com/punkave/apostrophe-people/issues"},"homepage":"https://github.com/punkave/apostrophe-people","_id":"apostrophe-people@0.5.26","_shasum":"f83001e83676566a0dfa8b68f1e2a954e223f2d8","_from":".","_npmVersion":"1.4.9","_npmUser":{"name":"livhaas","email":"olivia@punkave.com"},"maintainers":[{"name":"livhaas","email":"olivia@punkave.com"}],"dist":{"shasum":"f83001e83676566a0dfa8b68f1e2a954e223f2d8","tarball":"http://registry.npmjs.org/apostrophe-people/-/apostrophe-people-0.5.26.tgz"}}: apostrophe-people
70 error     at RegClient.<anonymous> (/Users/OberonV/npm/lib/node_modules/npm/node_modules/npm-registry-client/lib/request.js:273:14)
70 error     at Request._callback (/Users/OberonV/npm/lib/node_modules/npm/node_modules/npm-registry-client/lib/request.js:211:65)
70 error     at Request.self.callback (/Users/OberonV/npm/lib/node_modules/npm/node_modules/request/request.js:123:22)
70 error     at Request.EventEmitter.emit (events.js:98:17)
70 error     at Request.<anonymous> (/Users/OberonV/npm/lib/node_modules/npm/node_modules/request/request.js:893:14)
70 error     at Request.EventEmitter.emit (events.js:117:20)
70 error     at IncomingMessage.<anonymous> (/Users/OberonV/npm/lib/node_modules/npm/node_modules/request/request.js:844:12)
70 error     at IncomingMessage.EventEmitter.emit (events.js:117:20)
70 error     at _stream_readable.js:920:16
70 error     at process._tickCallback (node.js:415:13)
71 error If you need help, you may report this *entire* log,
71 error including the npm and node versions, at:
71 error     <http://github.com/npm/npm/issues>
72 error System Darwin 13.3.0
73 error command "node" "/Users/OberonV/npm/bin/npm" "publish"
74 error cwd /Users/OberonV/src/apostrophe-people
75 error node -v v0.10.24
76 error npm -v 1.4.9
77 verbose exit [ 1, true ]
